<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Main Page : Stencila C++ documentation</title>
    <link rel="shortcut icon" href="http://static.stenci.la/favicon.png">
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxy.css" rel="stylesheet" type="text/css" />
</head>
<body class="stencila-fonts">
    <div class="notes" style="display:none">
        <!-- Generation information removed from footer to simplify output and placed here for now -->
        Generated on Sat Oct 3 2015 12:16:12 for Stencila by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.11
    </div>
    <div id="stencila-header">
        <a href="http://stenci.la"><img src="http://static.stenci.la/img/logo-name-tagline-500.png" alt="Stencila" style="width:220px"></a>
        <div class="stencila-details">
            <h1>C++ documentation</h1>
            <h2>Version 0.18-gb3abf42-dirty</h2>
        </div>
    </div>
    <div id="top">
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Stencila Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Make will build C++ in <code>build/OS/ARCH/VERSION/cpp</code>. There are separate Makefile recipes related to the C++ library. e.g</p>
<ul>
<li><code>make cpp-requires</code> : build all requirements for the C++ package</li>
<li><code>make cpp-requires-boost</code> etc : build the required Boost libraries</li>
<li><code>make cpp-package</code> : build the C++ package</li>
</ul>
<h2>Tool chain requirements</h2>
<p>The C++ libraries requires the usual build tool suspects e.g. make, cmake, git. <a class="el" href="namespaceStencila.html">Stencila</a> is developed and tested using <a href="https://gcc.gnu.org/">`g++`</a>. A recent version of <code>g++</code> (&gt;=4.8) supporting features of the C++11 standard is necessary.</p>
<h3>Linux</h3>
<p>Provisioning scripts are available for Linux which install the necessary build tools. These scripts can be run on your machine or simply perused to see what is needed. Currently, provisioning scripts are provided for:</p>
<ul>
<li><a href="provision-ubuntu-build-12.04.sh">Ubuntu 12.04</a></li>
<li><a href="provision-ubuntu-build-14.04.sh">Ubuntu 14.04</a></li>
</ul>
<h3>Windows</h3>
<p>For Microsoft Windows we recommend building under <a href="http://msys2.github.io/">MSYS2</a> which provides a up-to-date and convenient way of compiling using the <a href="http://mingw-w64.sourceforge.net/">MinGW-w64</a> Windows port of <code>g++</code>. This section provides a guide to setting up a toolchain for building <a class="el" href="namespaceStencila.html">Stencila</a> packages. Where possible, we use the MSYS2 package manager, <code>pacman</code> to install required dependencies. If a package is not available for <code>pacman</code> (see the list <a href="https://github.com/Alexpux/MSYS2-packages">here</a>) then we recommend installing via the <code>choco</code> package manager. If the <code>choco</code> package is out of date then we resort to manual installation.</p>
<ul>
<li>Install <a href="https://msys2.github.io/">MYSYS2</a> and <a href="https://chocolatey.org">Chocolatey</a>.</li>
<li>Open the MYSY2 shell and install necessary build tools and libraries using <code>pacman</code>:</li>
</ul>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;pacman -S base-devel cmake gcc git mingw-w64-x86_64-python2-pip msys2-devel unzip zip</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;pacman -S openssl libssh2</div></div><!-- fragment --><h2>Library requirements</h2>
<p>The <a class="el" href="namespaceStencila.html">Stencila</a> C++ package has a number of required dependencies. At present these are:</p>
<ul>
<li><a href="http://www.boost.org/">Boost</a></li>
<li><a href="http://libgit2.github.com/">libgit2</a></li>
<li><a href="http://pugixml.org/">pugixml</a></li>
<li><a href="https://code.google.com/p/rapidjson/">rapidjson</a></li>
<li><a href="http://w3c.github.com/tidy-html5/">tidy-html5</a></li>
<li><a href="https://github.com/zaphoyd/websocketpp">WebSocket++</a></li>
</ul>
<p>The [Makefile](Makefile) defines the required version of each of these libraries and <code>make cpp-requires</code> will build and install them in the <code>cpp/requires</code> directory.We have taken this approach of local installs to avoid clashes with different versions that may already be globally installed on your machine. Local installation is unusual for C/C++ libraries but allows for better management of dependencies and is a modern approach used in other languages (e.g. <a href="http://virtualenv.readthedocs.org/en/latest/virtualenv.html">virtualenv for Python</a> and the <a href="https://www.npmjs.org/doc/cli/npm-install.html">Node package manager</a>)</p>
<p>We link statically to these libraries and distribute a large dynamic library for each <a class="el" href="namespaceStencila.html">Stencila</a> package (e.g R and Python packages). On Linux this requires that all libraries are compiled with Position Independent Code (i.e. -fPIC gcc flag). An alternative would be to link dynamically to these libraries and then do some dependency checking on the user's machine to see which dynamic libaries need to be installed. Whilst distributing a large static library is not ideal, at present it is preferred over doing the more complex dependency checking which includes ensuring the right version of libraries is available. See <a href="http://stackoverflow.com/questions/1412080/distributing-with-boost-library">here</a> and <a href="http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html">here</a> for further discussion. </p>
</div></div><!-- contents -->
    
</body>
</html>
